<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>PD Hub – Streifensystem</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #0e1117;
    color: #e6e6e6;
}

header {
    background: #161b22;
    padding: 15px 25px;
    font-size: 22px;
    font-weight: bold;
    border-bottom: 1px solid #30363d;
}

.container {
    display: flex;
    height: calc(100vh - 60px);
}

/* STREIFEN */
.dashboard {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
}

.streifen-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
}

.streife {
    background: #161b22;
    border: 1px solid #30363d;
    border-radius: 8px;
    padding: 10px;
    min-height: 160px;
}

.streife h3 {
    margin: 0 0 10px;
    font-size: 18px;
    text-align: center;
}

.dropzone {
    min-height: 100px;
}

/* OFFICER */
.sidebar {
    width: 320px;
    background: #161b22;
    border-left: 1px solid #30363d;
    padding: 15px;
    display: flex;
    flex-direction: column;
}

.sidebar h2 {
    margin-top: 0;
    font-size: 18px;
}

input, button {
    width: 100%;
    padding: 7px;
    margin-bottom: 8px;
    background: #0e1117;
    color: #e6e6e6;
    border: 1px solid #30363d;
    border-radius: 5px;
}

button {
    cursor: pointer;
    background: #238636;
}

button:hover {
    background: #2ea043;
}

.search-box {
    margin: 15px 0;
    border-top: 1px solid #30363d;
    padding-top: 10px;
}

.officer-list {
    flex: 1;
    overflow-y: auto;
}

.officer {
    background: #21262d;
    border: 1px solid #30363d;
    padding: 6px;
    border-radius: 5px;
    margin-bottom: 6px;
    cursor: grab;
}

/* STRAFTATEN */
.straftaten {
    margin-top: 25px;
    background: #161b22;
    border: 1px solid #30363d;
    border-radius: 8px;
    padding: 10px;
}

.straftat {
    border-bottom: 1px solid #30363d;
    padding: 6px 0;
    font-size: 14px;
}
</style>
</head>

<body>

<header>Police Department Hub</header>

<div class="container">

    <!-- STREIFEN -->
    <div class="dashboard">
        <h2>Streifenzuteilung</h2>

        <div class="streifen-grid">
            <div class="streife">
                <h3>1120 – Führung</h3>
                <div class="dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
            </div>
            <div class="streife">
                <h3>1121</h3>
                <div class="dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
            </div>
            <div class="streife">
                <h3>1122</h3>
                <div class="dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
            </div>
            <div class="streife">
                <h3>1123</h3>
                <div class="dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
            </div>
            <div class="streife">
                <h3>1124</h3>
                <div class="dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
            </div>
            <div class="streife">
                <h3>1125</h3>
                <div class="dropzone" ondragover="allowDrop(event)" ondrop="drop(event)"></div>
            </div>
        </div>

        <!-- STRAFTATEN -->
        <div class="straftaten">
            <h3>Straftaten-Katalog</h3>
            <input id="p" placeholder="Paragraph">
            <input id="a" placeholder="Absatz">
            <input id="n" placeholder="Name">
            <input id="h" placeholder="Hafteinheiten">
            <input id="g" placeholder="Geldstrafe">
            <button onclick="addStraftat()">Straftat hinzufügen</button>
            <div id="straftatenListe"></div>
        </div>
    </div>

    <!-- OFFICER -->
    <div class="sidebar">
        <h2>Officer erstellen</h2>
        <input id="vorname" placeholder="Vorname">
        <input id="nachname" placeholder="Nachname">
        <input id="dn" placeholder="Dienstnummer">
        <button onclick="addOfficer()">Officer hinzufügen</button>

        <div class="search-box">
            <input id="search" placeholder="Officer suchen..." onkeyup="searchOfficer()">
        </div>

        <div class="officer-list" id="officerList"></div>
    </div>

</div>

<script>
let officerId = 0;

function addOfficer() {
    const v = vorname.value;
    const n = nachname.value;
    const d = dn.value;
    if (!v || !n || !d) return;

    const div = document.createElement("div");
    div.className = "officer";
    div.draggable = true;
    div.id = "officer-" + officerId++;
    div.textContent = `${v} ${n} (${d})`;
    div.ondragstart = drag;

    officerList.appendChild(div);

    vorname.value = nachname.value = dn.value = "";
}

function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
}

function allowDrop(ev) {
    ev.preventDefault();
}

function drop(ev) {
    ev.preventDefault();
    const data = ev.dataTransfer.getData("text");
    ev.target.appendChild(document.getElementById(data));
}

function searchOfficer() {
    const term = search.value.toLowerCase();
    document.querySelectorAll(".officer").forEach(o => {
        o.style.display = o.textContent.toLowerCase().includes(term) ? "block" : "none";
    });
}

function addStraftat() {
    const div = document.createElement("div");
    div.className = "straftat";
    div.textContent = `§${p.value} Abs. ${a.value} – ${n.value} | HE: ${h.value} | $${g.value}`;
    straftatenListe.appendChild(div);

    p.value = a.value = n.value = h.value = g.value = "";
}
</script>

</body>
</html>
