<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Police Hub</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
}

header {
  background: #020617;
  padding: 15px;
  font-size: 22px;
  font-weight: bold;
}

.container {
  display: flex;
  height: calc(100vh - 60px);
}

nav {
  width: 220px;
  background: #020617;
  padding: 10px;
}

nav button {
  width: 100%;
  margin-bottom: 10px;
  padding: 10px;
  background: #1e293b;
  color: white;
  border: none;
  cursor: pointer;
}

nav button:hover {
  background: #334155;
}

main {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}

.hidden { display: none; }

input, textarea {
  width: 100%;
  margin-bottom: 10px;
  padding: 8px;
}

button.action {
  background: #2563eb;
  border: none;
  padding: 10px;
  color: white;
  cursor: pointer;
}

table {
  width: 100%;
  border-collapse: collapse;
}

td, th {
  border: 1px solid #334155;
  padding: 8px;
}
</style>
</head>

<body>

<header>ðŸš“ Police Hub â€“ Internes System</header>

<!-- LOGIN -->
<div id="login" style="padding:40px;">
  <h2>Zugriffscode</h2>
  <input id="accessCode" placeholder="Code eingeben">
  <button class="action" onclick="login()">Zugreifen</button>
</div>

<!-- SYSTEM -->
<div id="system" class="hidden">
  <div class="container">

    <nav>
      <button onclick="show('dashboard')">Dashboard</button>
      <button onclick="show('crimes')">Straftaten</button>
      <button onclick="show('patrols')">Streifenzuteilung</button>
    </nav>

    <main>

      <!-- DASHBOARD -->
      <div id="dashboard">
        <h2>Dashboard</h2>
        <p>Willkommen im internen Polizeisystem.</p>
      </div>

      <!-- STRAFTATEN -->
      <div id="crimes" class="hidden">
        <h2>Straftaten</h2>

        <input id="crimeName" placeholder="Tatbestand">
        <textarea id="crimePenalty" placeholder="Strafe"></textarea>
        <button class="action" onclick="addCrime()">HinzufÃ¼gen</button>

        <table id="crimeTable">
          <tr><th>Tatbestand</th><th>Strafe</th></tr>
        </table>
      </div>

      <!-- STREIFEN -->
      <div id="patrols" class="hidden">
        <h2>Streifenzuteilung</h2>

        <input id="patrolName" placeholder="Streifenname">
        <input id="officer1" placeholder="Officer 1">
        <input id="officer2" placeholder="Officer 2">
        <button class="action" onclick="addPatrol()">Erstellen</button>

        <table id="patrolTable">
          <tr><th>Streifen</th><th>Officer 1</th><th>Officer 2</th></tr>
        </table>
      </div>

    </main>
  </div>
</div>

<script>
const CODE = "PD-01";

// LOGIN
function login() {
  if (document.getElementById("accessCode").value === CODE) {
    loginDiv.style.display = "none";
    system.classList.remove("hidden");
  } else {
    alert("Falscher Code ðŸš¨");
  }
}

// NAVIGATION
function show(id) {
  document.querySelectorAll("main > div").forEach(d => d.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

// STRAFTATEN
function addCrime() {
  const name = crimeName.value;
  const penalty = crimePenalty.value;
  if (!name) return;

  const crimes = JSON.parse(localStorage.getItem("crimes") || "[]");
  crimes.push({ name, penalty });
  localStorage.setItem("crimes", JSON.stringify(crimes));
  loadCrimes();
}

function loadCrimes() {
  crimeTable.innerHTML = "<tr><th>Tatbestand</th><th>Strafe</th></tr>";
  JSON.parse(localStorage.getItem("crimes") || "[]").forEach(c => {
    crimeTable.innerHTML += `<tr><td>${c.name}</td><td>${c.penalty}</td></tr>`;
  });
}

// STREIFEN
function addPatrol() {
  const patrols = JSON.parse(localStorage.getItem("patrols") || "[]");
  patrols.push({
    name: patrolName.value,
    o1: officer1.value,
    o2: officer2.value
  });
  localStorage.setItem("patrols", JSON.stringify(patrols));
  loadPatrols();
}

function loadPatrols() {
  patrolTable.innerHTML = "<tr><th>Streifen</th><th>Officer 1</th><th>Officer 2</th></tr>";
  JSON.parse(localStorage.getItem("patrols") || "[]").forEach(p => {
    patrolTable.innerHTML += `<tr><td>${p.name}</td><td>${p.o1}</td><td>${p.o2}</td></tr>`;
  });
}

loadCrimes();
loadPatrols();
</script>

</body>
</html>
