<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>PD Strafsystem</title>
<style>
body { font-family: Arial; background:#111; color:#eee; margin:0 }
nav { display:flex; background:#222 }
nav button {
  flex:1; padding:15px; background:#222; color:#eee;
  border:none; cursor:pointer; font-size:16px;
}
nav button.active { background:#0a5; }
section { display:none; padding:20px }
section.active { display:block }
input, select, textarea, button {
  width:100%; padding:10px; margin:5px 0;
}
.card {
  background:#1b1b1b; padding:10px; margin:5px 0;
  border-left:4px solid #0a5;
}
.small { font-size:12px; color:#aaa }
</style>
</head>
<body>

<nav>
  <button onclick="showTab(0)" class="active">Strafkatalog</button>
  <button onclick="showTab(1)">Neue Akte</button>
  <button onclick="showTab(2)">Gespeicherte Akten</button>
</nav>

<!-- STRAFKATALOG -->
<section class="active">
  <input id="search" placeholder="Straftat oder ¬ß suchen..." oninput="filterStrafen()">
  <div id="strafen"></div>
</section>

<!-- AKTE -->
<section>
  <input id="vorname" placeholder="Vorname">
  <input id="nachname" placeholder="Nachname">

  <select id="tat">
    <option>Diebstahl (¬ß2 StGB)</option>
    <option>K√∂rperverletzung (¬ß7 StGB)</option>
    <option>Raub (¬ß3 StGB)</option>
    <option>Fahrerflucht (¬ß13 Abs.6 StVO)</option>
  </select>

  <input id="geld" placeholder="Geldstrafe ($)">
  <input id="haft" placeholder="Haft (Monate)">
  <textarea id="notiz" placeholder="Notizen / Hergang"></textarea>

  <button onclick="saveAkte()">Akte speichern</button>
</section>

<!-- AKTEN -->
<section>
  <div id="akten"></div>
</section>

<script>
const strafListe = [
  "¬ß2 StGB ‚Äì Diebstahl ‚Äì 500$",
  "¬ß3 StGB ‚Äì Raub ‚Äì 1000$",
  "¬ß7 StGB ‚Äì K√∂rperverletzung ‚Äì 500$",
  "¬ß13 Abs.6 StVO ‚Äì Fahrerflucht ‚Äì 1000$"
];

function showTab(i){
  document.querySelectorAll("section").forEach((s,idx)=>{
    s.classList.toggle("active", idx===i)
  });
  document.querySelectorAll("nav button").forEach((b,idx)=>{
    b.classList.toggle("active", idx===i)
  });
  if(i===2) loadAkten();
}

function filterStrafen(){
  const v = search.value.toLowerCase();
  strafen.innerHTML = "";
  strafListe.filter(s=>s.toLowerCase().includes(v))
    .forEach(s=>{
      strafen.innerHTML += `<div class="card">${s}</div>`;
    });
}
filterStrafen();

function saveAkte(){
  const akten = JSON.parse(localStorage.getItem("akten")||"[]");
  akten.push({
    name: vorname.value+" "+nachname.value,
    tat: tat.value,
    geld: geld.value,
    haft: haft.value,
    notiz: notiz.value,
    datum: new Date().toLocaleString()
  });
  localStorage.setItem("akten", JSON.stringify(akten));
  alert("Akte gespeichert");
}

function loadAkten(){
  akten.innerHTML="";
  const data = JSON.parse(localStorage.getItem("akten")||"[]");
  data.forEach(a=>{
    akten.innerHTML += `
      <div class="card">
        <b>${a.name}</b><br>
        ${a.tat}<br>
        üí∏ ${a.geld}$ | ‚è± ${a.haft} Monate<br>
        <span class="small">${a.datum}</span><br>
        ${a.notiz}
      </div>`;
  });
}
</script>

</body>
</html>
